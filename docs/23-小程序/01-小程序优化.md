---
title: 小程序优化
---

## 优化维度

1. 避免过大的 WXML 节点数目

2. 避免执行脚本的耗时过长的情况

3. 避免首屏时间太长的情况

4. 避免渲染界面的耗时过长的情况

5. 对网络请求做必要的缓存以避免多余的请求

6. 所有请求的耗时不应太久

7. 避免 setData 的调用过于频繁

8. 避免 setData 的数据过大

9. 避免短时间内发起太多的图片请求

10. 避免短时间内发起太多的请求



## 首屏优化

- 分包加载

所谓分包加载，就是根据业务场景，将用户访问率高的页面放在主包里，将访问率低的页面放入子包里，按需加载。具体在这个项目中，我在主包只保留核心页面，如核心页面导航位及首页信息流等，其他内容（如积分种树功能、公益活动等）都放入子包中。启动时只加载主包，使用时再按需下载子包。这样主包从 1.2M 降低到 0.5M，首屏时间达到微信小程序下首屏时间标准的即 3s。


